<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taurus AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Roboto, sans-serif; }
        textarea::-webkit-scrollbar, .hide-scrollbar::-webkit-scrollbar { display: none; }
        textarea, .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .loading { border: 3px solid #f3f3f3; border-top: 3px solid #3498db; border-radius: 50%; width: 20px; height: 20px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .image-result { animation: fadeIn 0.3s ease-in; }
        .image-actions { opacity: 0; transition: opacity 0.2s; }
        .image-result:hover .image-actions { opacity: 1; }
        .model-dropdown { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; }
        .model-dropdown.open { max-height: 500px; }
        .model-option { transition: background-color 0.15s; }
        .model-option:hover { background-color: rgba(0,0,0,0.05); }
        .model-option.selected { background-color: #e8f0fe; }
        .banana-icon { width: 28px; height: 28px; }
        .sidebar { transition: transform 0.3s; }
        .sidebar.active { transform: translateX(0); }
    </style>
</head>
<body class="bg-white text-gray-900">
    <div class="flex h-screen">
        <!-- Left Sidebar -->
        <div class="w-16 border-r border-gray-200 bg-white flex flex-col items-center py-4 gap-4">
            <button class="p-3 rounded-lg hover:bg-gray-100" onclick="toggleChat()">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
            </button>
            <button class="p-3 rounded-lg hover:bg-gray-100">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
            </button>
            <button class="p-3 rounded-lg hover:bg-gray-100">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5a.5.5 0 00.5.5H9M20 20v-5a.5.5 0 00-.5-.5h-4.5M9 4H5a1 1 0 00-1 1v3m0 0a9 9 0 0118 0m0 0v-3a1 1 0 00-1-1h-4"/></svg>
            </button>
            <button class="p-3 rounded-lg hover:bg-gray-100">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4"/></svg>
            </button>
        </div>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col">
            <!-- Header -->
            <div class="border-b border-gray-200 px-8 py-4 flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <svg class="banana-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20.5 7c-.2-.6-.6-1-1.2-1.3-.8-.4-1.8-.4-2.6 0-1.7.7-3 2.3-4 4.2-.3.6-.6 1.2-.8 1.8-.1-.4-.3-.8-.5-1.2-1-2-2.4-3.7-4.2-4.4-.9-.4-1.9-.4-2.8 0-.6.3-1 .7-1.2 1.3-.3.8-.2 1.7.2 2.5.8 1.7 2.4 3 4.2 4 .6.3 1.2.6 1.8.8-.4.1-.8.3-1.2.5-2 1-3.7 2.4-4.4 4.2-.4.9-.4 1.9 0 2.8.3.6.7 1 1.3 1.2.8.3 1.7.2 2.5-.2 1.7-.8 3-2.4 4-4.2.3-.6.6-1.2.8-1.8.1.4.3.8.5 1.2 1 2 2.4 3.7 4.2 4.4.9.4 1.9.4 2.8 0 .6-.3 1-.7 1.2-1.3.3-.8.2-1.7-.2-2.5-.8-1.7-2.4-3-4.2-4-.6-.3-1.2-.6-1.8-.8.4-.1.8-.3 1.2-.5 2-1 3.7-2.4 4.4-4.2.4-.9.4-1.9 0-2.8z"/>
                    </svg>
                    <h1 class="text-xl font-medium">Taurus AI</h1>
                </div>
                <button onclick="toggleSettings()" class="p-2 hover:bg-gray-100 rounded-lg">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 8c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"/></svg>
                </button>
            </div>

            <!-- Model Selector -->
            <div class="border-b border-gray-200 px-8 py-3">
                <div class="relative w-64">
                    <button onclick="toggleModelDropdown()" class="flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 w-full">
                        <span id="selectedModelIcon">âš¡</span>
                        <span id="selectedModelName" class="font-medium text-sm">Flux</span>
                        <svg class="w-4 h-4 ml-auto" id="dropdownArrow" fill="currentColor" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </button>
                    
                    <div id="modelDropdown" class="model-dropdown absolute top-full mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50">
                        <div class="p-2">
                            <div class="model-option selected px-3 py-3 rounded-lg cursor-pointer" onclick="selectModel('flux', 'âš¡', 'Flux')">
                                <div class="flex items-center gap-3">
                                    <span class="text-xl">âš¡</span>
                                    <div class="flex-1">
                                        <div class="font-medium text-sm">Flux</div>
                                        <div class="text-xs text-gray-500">Balanced quality & speed</div>
                                    </div>
                                    <svg class="w-5 h-5 text-blue-600 model-check" fill="currentColor" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
                                </div>
                            </div>
                            <div class="model-option px-3 py-3 rounded-lg cursor-pointer" onclick="selectModel('turbo', 'ðŸš€', 'Turbo')">
                                <div class="flex items-center gap-3">
                                    <span class="text-xl">ðŸš€</span>
                                    <div class="flex-1">
                                        <div class="font-medium text-sm">Turbo</div>
                                        <div class="text-xs text-gray-500">Ultra fast</div>
                                    </div>
                                    <svg class="w-5 h-5 text-blue-600 model-check hidden" fill="currentColor" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
                                </div>
                            </div>
                            <div class="model-option px-3 py-3 rounded-lg cursor-pointer" onclick="selectModel('flux-realism', 'ðŸ“·', 'Realism')">
                                <div class="flex items-center gap-3">
                                    <span class="text-xl">ðŸ“·</span>
                                    <div class="flex-1">
                                        <div class="font-medium text-sm">Flux Realism</div>
                                        <div class="text-xs text-gray-500">Photo-realistic</div>
                                    </div>
                                    <svg class="w-5 h-5 text-blue-600 model-check hidden" fill="currentColor" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
                                </div>
                            </div>
                            <div class="model-option px-3 py-3 rounded-lg cursor-pointer" onclick="selectModel('flux-anime', 'ðŸŽŒ', 'Anime')">
                                <div class="flex items-center gap-3">
                                    <span class="text-xl">ðŸŽŒ</span>
                                    <div class="flex-1">
                                        <div class="font-medium text-sm">Flux Anime</div>
                                        <div class="text-xs text-gray-500">Animation style</div>
                                    </div>
                                    <svg class="w-5 h-5 text-blue-600 model-check hidden" fill="currentColor" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
                                </div>
                            </div>
                            <div class="model-option px-3 py-3 rounded-lg cursor-pointer" onclick="selectModel('flux-3d', 'ðŸŽ®', '3D')">
                                <div class="flex items-center gap-3">
                                    <span class="text-xl">ðŸŽ®</span>
                                    <div class="flex-1">
                                        <div class="font-medium text-sm">Flux 3D</div>
                                        <div class="text-xs text-gray-500">3D graphics</div>
                                    </div>
                                    <svg class="w-5 h-5 text-blue-600 model-check hidden" fill="currentColor" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content Area -->
            <div class="flex-1 overflow-y-auto flex flex-col items-center justify-center">
                <div id="resultsArea" class="w-full max-w-4xl px-8 py-8">
                    <!-- Results here -->
                </div>
                
                <div id="emptyState" class="flex flex-col items-center justify-center py-12">
                    <svg class="w-16 h-16 text-gray-300 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                    <p class="text-gray-500 text-center">Describe an image to generate</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Prompt Box -->
    <div class="fixed bottom-0 left-16 right-0 border-t border-gray-200 bg-white p-6">
        <div class="max-w-4xl mx-auto">
            <div class="bg-gray-50 rounded-2xl p-4 border border-gray-200">
                <textarea 
                    id="promptInput" 
                    placeholder="Enter your prompt here"
                    class="w-full bg-transparent border-none outline-none resize-none"
                    rows="1"
                    style="max-height: 200px;"
                ></textarea>
                
                <div class="flex items-center justify-between mt-3">
                    <div class="flex gap-2">
                        <button class="p-2 hover:bg-gray-200 rounded-lg" title="Upload">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                        </button>
                        <button class="p-2 hover:bg-gray-200 rounded-lg" title="Settings">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94L14.4 2.81a.488.488 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/></svg>
                        </button>
                    </div>
                    
                    <button 
                        id="generateBtn"
                        onclick="generateImage()"
                        class="p-2 hover:bg-blue-600 bg-blue-500 text-white rounded-lg"
                    >
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.837654326,3.0486314 1.15159189,3.99021575 L3.03521743,10.4311088 C3.03521743,10.5882061 3.34915502,10.7453035 3.50612381,10.7453035 L16.6915026,11.5307905 C16.6915026,11.5307905 17.1624089,11.5307905 17.1624089,12.0020827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Sidebar -->
    <div id="settingsSidebar" class="fixed top-0 right-0 w-96 h-full bg-white border-l border-gray-200 transform translate-x-full transition-transform z-40 overflow-y-auto">
        <div class="p-6">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-lg font-medium">Settings</h2>
                <button onclick="toggleSettings()" class="p-2 hover:bg-gray-100 rounded-lg">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
                </button>
            </div>
            
            <div class="space-y-6">
                <div>
                    <label class="text-sm font-medium block mb-2">API Token</label>
                    <input type="password" id="apiToken" class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm outline-none" placeholder="Enter API token"/>
                </div>
                
                <div>
                    <label class="text-sm font-medium block mb-2">Width</label>
                    <input type="number" id="widthInput" value="1024" min="256" max="2048" step="64" class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm outline-none"/>
                </div>
                
                <div>
                    <label class="text-sm font-medium block mb-2">Height</label>
                    <input type="number" id="heightInput" value="1024" min="256" max="2048" step="64" class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm outline-none"/>
                </div>
                
                <div>
                    <label class="text-sm font-medium block mb-2">Batch Count</label>
                    <input type="number" id="batchCount" value="1" min="1" max="4" class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm outline-none"/>
                </div>
                
                <label class="flex items-center gap-3 cursor-pointer">
                    <input type="checkbox" id="nsfwToggle" class="w-4 h-4"/>
                    <span class="text-sm">NSFW Content</span>
                </label>
            </div>
        </div>
    </div>

    <script>
        let selectedModel = 'flux';
        let selectedModelIcon = 'âš¡';
        let selectedModelName = 'Flux';

        document.getElementById('promptInput').addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 200) + 'px';
        });

        function toggleModelDropdown() {
            const dropdown = document.getElementById('modelDropdown');
            const arrow = document.getElementById('dropdownArrow');
            dropdown.classList.toggle('open');
            arrow.style.transform = dropdown.classList.contains('open') ? 'rotate(180deg)' : '';
        }

        function selectModel(model, icon, name) {
            selectedModel = model;
            selectedModelIcon = icon;
            selectedModelName = name;
            
            document.getElementById('selectedModelIcon').textContent = icon;
            document.getElementById('selectedModelName').textContent = name;
            
            document.querySelectorAll('.model-option').forEach(opt => {
                opt.classList.remove('selected');
                const check = opt.querySelector('.model-check');
                if (check) check.classList.add('hidden');
            });
            
            event.target.closest('.model-option').classList.add('selected');
            event.target.closest('.model-option').querySelector('.model-check').classList.remove('hidden');
            
            toggleModelDropdown();
        }

        async function generateImage() {
            const prompt = document.getElementById('promptInput').value.trim();
            if (!prompt) return alert('Enter a prompt');
            
            const btn = document.getElementById('generateBtn');
            btn.innerHTML = '<div class="loading"></div>';
            btn.disabled = true;

            try {
                const width = document.getElementById('widthInput').value;
                const height = document.getElementById('heightInput').value;
                const batch = parseInt(document.getElementById('batchCount').value);
                const nsfw = document.getElementById('nsfwToggle').checked;

                const emptyState = document.getElementById('emptyState');
                if (emptyState && emptyState.style.display !== 'none') {
                    emptyState.style.display = 'none';
                }

                for (let i = 0; i < batch; i++) {
                    let url = `https://image.pollinations.ai/prompt/${encodeURIComponent(prompt)}`;
                    url += `?model=${selectedModel}&width=${width}&height=${height}
